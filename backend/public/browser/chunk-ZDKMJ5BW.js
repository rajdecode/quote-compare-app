import{a as R,b as B,c as V,d as j,e as A,f as L,l as W,m as H}from"./chunk-RFKYDLES.js";import{A as o,Aa as z,Ca as D,E as C,Ea as F,Ia as N,M as p,N as u,O as h,P as M,Q as P,R as b,S as n,T as t,Y as O,_ as g,aa as _,ca as i,da as d,ea as m,fa as y,ga as q,ha as E,ma as l,n as c,na as f,oa as v,qa as I,ua as S,va as k,wa as T,xa as Q,ya as w}from"./chunk-DXR3KEKN.js";function G(r,a){if(r&1&&(n(0,"div",6)(1,"span",8),i(2,"error_outline"),t(),i(3),t()),r&2){let e=g();o(3),m(" ",e.error," ")}}function $(r,a){r&1&&(n(0,"div",18)(1,"span",8),i(2,"pending"),t(),n(3,"p"),i(4,"No vendors have responded yet. We'll notify you via email when they do."),t()())}function J(r,a){if(r&1&&(n(0,"div",20)(1,"div",21)(2,"span",22),i(3),t(),n(4,"span",23),i(5),l(6,"currency"),t()(),n(7,"p",24),i(8),t(),n(9,"div",25),i(10),l(11,"date"),t()()),r&2){let e=a.$implicit;o(3),d(e.vendorName||"Vendor"),o(2),d(f(6,4,e.price)),o(3),d(e.message),o(2),m(" Received: ",v(11,6,e.createdAt,"short")," ")}}function K(r,a){if(r&1&&(n(0,"div",19),M(1,J,12,9,"div",20,h),t()),r&2){let e=g(2);o(),P(e.quote.responses)}}function X(r,a){if(r&1&&(n(0,"div",7)(1,"div",9)(2,"div",10)(3,"h2"),i(4,"Quote Status"),t(),n(5,"span",11),i(6),l(7,"uppercase"),t()(),n(8,"div",12)(9,"div",13)(10,"span",14),i(11,"Service"),t(),n(12,"span",15),i(13),l(14,"titlecase"),t()(),n(15,"div",13)(16,"span",14),i(17,"Location"),t(),n(18,"span",15),i(19),t()(),n(20,"div",13)(21,"span",14),i(22,"Submitted"),t(),n(23,"span",15),i(24),l(25,"date"),t()()(),n(26,"div",16)(27,"h3"),i(28,"Your Request"),t(),n(29,"p"),i(30),t()()(),n(31,"div",17)(32,"h3"),i(33),t(),p(34,$,5,0,"div",18)(35,K,3,0,"div",19),t()()),r&2){let e=g();o(5),_("status-open",e.quote.status==="open")("status-responded",e.quote.status==="responded"),o(),m(" ",f(7,11,e.quote.status)," "),o(7),d(f(14,13,e.quote.serviceType)),o(6),d(e.quote.postalCode),o(5),d(v(25,15,e.quote.createdAt,"mediumDate")),o(6),d(e.quote.details),o(3),m("Vendor Responses (",(e.quote.responses==null?null:e.quote.responses.length)||0,")"),o(),u(!e.quote.responses||e.quote.responses.length===0?34:35)}}var U=class r{quoteId="";quote=null;loading=!1;error="";route=c(D);router=c(F);http=c(z);cd=c(I);ngOnInit(){this.route.paramMap.subscribe(a=>{let e=a.get("id");e&&(console.log("Route param ID:",e),this.quoteId=e,this.trackQuote())})}trackQuote(){this.quoteId&&(this.loading=!0,this.error="",this.quote=null,this.cd.detectChanges(),console.log("Tracking quote (HTTP):",this.quoteId),this.http.get(`${N.apiUrl}/quotes/${this.quoteId}`).subscribe({next:a=>{console.log("Quote Loaded:",a),this.quote=a,this.loading=!1,this.cd.detectChanges()},error:a=>{console.error("Track Quote Error:",a),this.error=a.error?.error||"Failed to load quote. Please check the ID.",this.loading=!1,this.cd.detectChanges()}}))}submitSearch(){this.quoteId&&this.router.navigate(["/track",this.quoteId])}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=C({type:r,selectors:[["app-track-quote"]],decls:13,vars:7,consts:[[1,"container","page-content"],[1,"track-container"],[1,"glass-panel","search-card"],[1,"search-form",3,"submit"],["type","text","name","quoteId","placeholder","Enter Quote ID (e.g., mock-seed-1)","required","",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"error-message"],[1,"results-area"],[1,"material-icons"],[1,"glass-panel","status-card"],[1,"status-header"],[1,"status-badge"],[1,"quote-summary"],[1,"summary-item"],[1,"label"],[1,"value"],[1,"details-box"],[1,"responses-section"],[1,"glass-panel","empty-responses"],[1,"responses-grid"],[1,"glass-panel","response-card"],[1,"vendor-info"],[1,"vendor-name"],[1,"price"],[1,"message"],[1,"response-meta"]],template:function(e,s){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),i(4,"Track Your Quote"),t(),n(5,"p"),i(6,"Enter your Quote ID to see the status and responses from vendors."),t(),n(7,"form",3),O("submit",function(){return s.submitSearch()}),n(8,"input",4),E("ngModelChange",function(x){return q(s.quoteId,x)||(s.quoteId=x),x}),t(),n(9,"button",5),i(10),t()(),p(11,G,4,1,"div",6),t(),p(12,X,36,18,"div",7),t()()),e&2&&(o(),_("has-results",!!s.quote),o(7),y("ngModel",s.quoteId),o(),b("disabled",s.loading),o(),m(" ",s.loading?"Tracking...":"Track"," "),o(),u(s.error?11:-1),o(),u(s.quote?12:-1))},dependencies:[w,H,L,R,B,V,W,A,j,k,S,Q,T],styles:[".page-content[_ngcontent-%COMP%]{padding-top:140px;min-height:100vh;padding-bottom:4rem}.track-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;transition:max-width .3s ease}.track-container.has-results[_ngcontent-%COMP%]{max-width:900px}.search-card[_ngcontent-%COMP%]{padding:2.5rem;text-align:center;margin-bottom:2rem}.search-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:.5rem;font-size:2rem}.search-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:2rem;color:var(--text-dim)}.search-form[_ngcontent-%COMP%]{display:flex;gap:1rem;max-width:500px;margin:0 auto}.search-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:12px 16px;border:1px solid #E2E8F0;border-radius:8px;font-size:1rem}.error-message[_ngcontent-%COMP%]{margin-top:1.5rem;color:var(--error-color);display:flex;align-items:center;justify-content:center;gap:8px}.status-card[_ngcontent-%COMP%]{padding:2rem;margin-bottom:2rem}.status-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid #F1F5F9}.status-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem}.quote-summary[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1.5rem;margin-bottom:2rem}.quote-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.quote-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-dim);text-transform:uppercase;font-weight:600;margin-bottom:4px}.quote-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;color:var(--text-main)}.details-box[_ngcontent-%COMP%]{background:#f8fafc;padding:1.5rem;border-radius:12px}.details-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.5rem;color:var(--text-dim)}.details-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-main);margin:0}.responses-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1.5rem;font-size:1.25rem}.responses-grid[_ngcontent-%COMP%]{display:grid;gap:1.5rem;grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}.response-card[_ngcontent-%COMP%]{padding:1.5rem;background:#fff!important;border:1px solid #E2E8F0}.vendor-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.vendor-info[_ngcontent-%COMP%]   .vendor-name[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem}.vendor-info[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-weight:700;color:var(--primary-color);font-size:1.25rem}.message[_ngcontent-%COMP%]{color:var(--text-dim);margin-bottom:1rem;font-size:.95rem}.response-meta[_ngcontent-%COMP%]{font-size:.8rem;color:#94a3b8;text-align:right}.empty-responses[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:var(--text-dim)}.empty-responses[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;color:#cbd5e1}"]})};export{U as TrackQuote};
