import{C as F,v as E}from"./chunk-C5YJZJTI.js";import{a as k,b as O,c as N,d as L,e as V,f as D,l as R,n as T}from"./chunk-KD4LWHTW.js";import"./chunk-URMLSJLD.js";import{B as a,Ba as y,F as x,Ja as S,N as u,O as p,T as _,U as n,V as r,Z as M,_ as C,aa as s,ea as i,fa as f,ga as b,ia as w,ja as P,ka as v,o as g,p as m,u as d}from"./chunk-4TIVEWO7.js";function z(t,o){if(t&1&&(n(0,"div",3),i(1),r(),n(2,"a",4),i(3,"Back to Login"),r()),t&2){let e=s();a(),f(e.successMessage())}}function B(t,o){if(t&1&&(n(0,"div",9),i(1),r()),t&2){let e=s(2);a(),f(e.errorMessage())}}function W(t,o){if(t&1){let e=M();n(0,"form",5),C("ngSubmit",function(){g(e);let l=s();return m(l.onSubmit())}),n(1,"div",6)(2,"label",7),i(3,"Email Address"),r(),n(4,"input",8),v("ngModelChange",function(l){g(e);let h=s();return P(h.email,l)||(h.email=l),m(l)}),r()(),u(5,B,2,1,"div",9),n(6,"button",10),i(7),r(),n(8,"div",11)(9,"a",12),i(10,"Back to Login"),r()()()}if(t&2){let e=s();a(4),w("ngModel",e.email),a(),p(e.errorMessage()?5:-1),a(),_("disabled",e.loading()),a(),b(" ",e.loading()?"Sending...":"Send Reset Link"," ")}}var I=class t{email="";loading=d(!1);errorMessage=d("");successMessage=d("");async onSubmit(){if(console.log("Forgot Password: Submit clicked. Email:",this.email),!this.email){console.warn("Forgot Password: No email entered.");return}this.loading.set(!0),this.errorMessage.set(""),this.successMessage.set("");try{console.log("Forgot Password: Sending reset email to",this.email),await E(F,this.email),console.log("Forgot Password: Email sent successfully."),this.successMessage.set("Check your email for the password reset link.")}catch(o){console.error("Forgot Password: Reset error:",o),console.error("Error Code:",o.code),console.error("Error Message:",o.message),this.errorMessage.set(this.getErrorMessage(o.code))}finally{this.loading.set(!1),console.log("Forgot Password: Loading set to false.")}}getErrorMessage(o){switch(o){case"auth/user-not-found":return"No user found with this email.";case"auth/invalid-email":return"Invalid email address.";default:return"Failed to send reset email. Please try again."}}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=x({type:t,selectors:[["app-forgot-password"]],decls:8,vars:1,consts:[[1,"auth-page"],[1,"auth-card","glass-panel"],[1,"subtitle"],[1,"alert","success"],["routerLink","/login",1,"btn","btn-secondary","btn-block"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","","placeholder","you@example.com",3,"ngModelChange","ngModel"],[1,"alert","error"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"auth-links"],["routerLink","/login"]],template:function(e,c){e&1&&(n(0,"div",0)(1,"div",1)(2,"h2"),i(3,"Reset Password"),r(),n(4,"p",2),i(5,"Enter your email to receive a reset link"),r(),u(6,z,4,1)(7,W,11,4,"form"),r()()),e&2&&(a(6),p(c.successMessage()?6:7))},dependencies:[y,T,D,k,O,N,R,V,L,S],styles:[".auth-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;background:radial-gradient(circle at top right,rgba(108,99,255,.1),transparent 40%),radial-gradient(circle at bottom left,rgba(255,101,132,.1),transparent 40%)}.auth-card[_ngcontent-%COMP%]{width:100%;max-width:480px;padding:40px;text-align:center}.auth-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:8px;font-size:2rem}.auth-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:var(--primary-color)}.auth-card[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:var(--text-dim);margin-bottom:32px}.btn-block[_ngcontent-%COMP%]{width:100%;padding:14px;font-size:1.1rem}.auth-footer[_ngcontent-%COMP%]{margin-top:24px;font-size:.9rem;color:var(--text-dim)}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:600}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{margin-top:16px;padding:12px;background:#ff17441a;border:1px solid var(--error-color);color:var(--error-color);border-radius:8px;font-size:.9rem}"]})};export{I as ForgotPassword};
