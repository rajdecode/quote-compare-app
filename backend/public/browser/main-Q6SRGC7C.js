import{a as b}from"./chunk-C64XARKB.js";import{a as F,b as j,c as W,d as B,e as U,f as G,g as Re,h as Ne,i as Ie,j as ze,k as Ae,l as H,m as Y}from"./chunk-RFKYDLES.js";import{$ as ve,A as l,Ba as Ee,Ca as qe,D as L,Da as ke,E as g,Ea as w,Fa as E,Ga as Te,Ha as De,I as te,Ia as A,M,N as y,P as $,Q as ee,R as P,S as o,T as i,U as D,V as m,W as c,X as R,Y as S,Z as X,_ as u,aa as J,ba as Me,ca as e,da as O,ea as h,fa as C,ga as x,ha as v,ia as ye,ka as Pe,la as Oe,ma as Q,n as f,na as V,o as k,p as T,qa as we,t as be,ta as ne,u as q,ua as oe,v as Ce,w as xe,wa as ie,ya as _,za as Se}from"./chunk-DXR3KEKN.js";function je(r,a){r&1&&(o(0,"a",7),e(1,"Get Free Quotes"),i())}function We(r,a){r&1&&(o(0,"a",7),e(1,"Get Free Quotes"),i())}var re=class r{authService=f(b);router=f(w);currentUser=this.authService.currentUser;static \u0275fac=function(t){return new(t||r)};static \u0275cmp=g({type:r,selectors:[["app-landing"]],decls:66,vars:1,consts:[["quoteIdInput",""],[1,"landing-page"],[1,"hero"],[1,"container","hero-content"],[1,"hero-text"],[1,"subtitle"],[1,"cta-group"],["routerLink","/request-quote",1,"btn","btn-primary"],["href","#how-it-works",1,"btn","btn-secondary"],[1,"hero-visual","glass-panel"],[1,"product-showcase"],[1,"material-icons","icon-large"],[1,"stat-card","glass-panel",2,"top","20%","right","-20px"],[1,"label"],[1,"value"],[1,"stat-card","glass-panel",2,"bottom","20%","left","-20px"],[1,"hero-glow"],[1,"container",2,"margin-top","-3rem","position","relative","z-index","20"],[1,"glass-panel",2,"padding","2rem","display","flex","align-items","center","justify-content","space-between","flex-wrap","wrap","gap","1rem"],[2,"margin","0","font-size","1.25rem"],[2,"margin","0.5rem 0 0","color","var(--text-dim)"],[2,"display","flex","gap","1rem","flex","1","max-width","400px"],["type","text","placeholder","Enter Quote ID",2,"flex","1","padding","12px","border-radius","8px","border","1px solid #E2E8F0"],[1,"btn","btn-primary",3,"click"],["id","how-it-works",1,"how-it-works","container"],[1,"steps-grid"],[1,"step-card","glass-panel"],[1,"step-number"]],template:function(t,n){if(t&1){let d=R();o(0,"div",1)(1,"section",2)(2,"div",3)(3,"div",4)(4,"h1"),e(5,"Sustainable Comfort for Your Home"),i(),o(6,"p",5),e(7,"Compare quotes for top-rated Heat Pumps from trusted local vendors. Save money and energy with ease."),i(),o(8,"div",6)(9,"div",6),M(10,je,2,0,"a",7)(11,We,2,0,"a",7),o(12,"a",8),e(13,"Learn More"),i()()()(),o(14,"div",9)(15,"div",10)(16,"span",11),e(17,"ac_unit"),i(),o(18,"div",12)(19,"span",13),e(20,"Energy Savings"),i(),o(21,"span",14),e(22,"Up to 50%"),i()(),o(23,"div",15)(24,"span",13),e(25,"Rebates"),i(),o(26,"span",14),e(27,"Available"),i()()()()(),D(28,"div",16),i(),o(29,"section",17)(30,"div",18)(31,"div")(32,"h3",19),e(33,"Already requested?"),i(),o(34,"p",20),e(35,"Track best quotes from local vendors."),i()(),o(36,"div",21),D(37,"input",22,0),o(39,"button",23),S("click",function(){k(d);let p=ve(38);return T(p.value?n.router.navigate(["/track",p.value]):null)}),e(40,"Track"),i()()()(),o(41,"section",24)(42,"h2"),e(43,"How It Works"),i(),o(44,"div",25)(45,"div",26)(46,"span",27),e(47,"01"),i(),o(48,"h3"),e(49,"Request Quote"),i(),o(50,"p"),e(51,"Enter your postal code and requirements. It takes less than 2 minutes."),i()(),o(52,"div",26)(53,"span",27),e(54,"02"),i(),o(55,"h3"),e(56,"Vendors Respond"),i(),o(57,"p"),e(58,"Verified local vendors review your request and send competitive quotes."),i()(),o(59,"div",26)(60,"span",27),e(61,"03"),i(),o(62,"h3"),e(63,"Compare & Save"),i(),o(64,"p"),e(65,"Compare prices, ratings, and models on your dashboard. Choose the best fit."),i()()()()()}t&2&&(l(10),y(n.currentUser()?10:11))},dependencies:[_,E],styles:[".landing-page[_ngcontent-%COMP%]{padding-top:140px;min-height:100vh;position:relative;overflow:hidden}.hero[_ngcontent-%COMP%]{padding:80px 0;position:relative}.hero-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:40px}.hero-text[_ngcontent-%COMP%]{flex:1;max-width:600px}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.5rem;font-weight:700;line-height:1.2;margin-bottom:24px;background:linear-gradient(to right,var(--primary-color),var(--secondary-color));-webkit-background-clip:text;-webkit-text-fill-color:transparent}.hero-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--text-dim);margin-bottom:32px;line-height:1.6}.cta-group[_ngcontent-%COMP%]{display:flex;gap:16px}.hero-visual[_ngcontent-%COMP%]{flex:1;height:400px;position:relative;display:flex;align-items:center;justify-content:center;border-radius:24px;background:#00000008}.product-showcase[_ngcontent-%COMP%]{position:relative;text-align:center}.product-showcase[_ngcontent-%COMP%]   .icon-large[_ngcontent-%COMP%]{font-size:8rem;color:var(--primary-color);text-shadow:0 10px 30px rgba(79,70,229,.3)}.stat-card[_ngcontent-%COMP%]{position:absolute;padding:16px 24px;display:flex;flex-direction:column;min-width:120px;background:#fffc!important;box-shadow:0 10px 15px -3px #0000001a}.stat-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-dim)}.stat-card[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:var(--secondary-color)}.hero-glow[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-30%,-50%);width:600px;height:600px;background:radial-gradient(circle,#4f46e51a,#0000 70%);z-index:-1;pointer-events:none}.how-it-works[_ngcontent-%COMP%]{padding:80px 20px}.how-it-works[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:60px;color:var(--text-main)}.steps-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:32px}.step-card[_ngcontent-%COMP%]{padding:32px;position:relative;transition:transform .3s ease;background:#fff}.step-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.step-card[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{position:absolute;top:-20px;left:20px;font-size:4rem;font-weight:700;color:#0000000d;z-index:0}.step-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:16px;color:var(--primary-color)}.step-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-dim);line-height:1.5}"]})};function Ue(r,a){if(r&1&&(o(0,"div",15),e(1),i()),r&2){let t=u();l(),h(" ",t.errorMessage," ")}}var ae=class r{constructor(a,t){this.authService=a;this.router=t}email="";password="";loading=!1;errorMessage="";async onSubmit(){console.log("Attempting login with:",this.email),this.loading=!0,this.errorMessage="";try{await this.authService.login(this.email,this.password),console.log("Login successful")}catch(a){console.error("Login error:",a),this.errorMessage=a.message||"An error occurred during login."}finally{this.loading=!1}}static \u0275fac=function(t){return new(t||r)(L(b),L(w))};static \u0275cmp=g({type:r,selectors:[["app-login"]],decls:27,vars:5,consts:[[1,"auth-page"],[1,"auth-card","glass-panel"],[1,"highlight"],[1,"subtitle"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","","placeholder","name@example.com",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"auth-footer"],["routerLink","/register"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),e(3,"Welcome Back to "),o(4,"span",2),e(5,"Quote"),i(),e(6,"Compare"),i(),o(7,"p",3),e(8,"Sign in to manage your quotes and requests."),i(),o(9,"form",4),S("ngSubmit",function(){return n.onSubmit()}),o(10,"div",5)(11,"label",6),e(12,"Email Address"),i(),o(13,"input",7),v("ngModelChange",function(s){return x(n.email,s)||(n.email=s),s}),i()(),o(14,"div",5)(15,"label",8),e(16,"Password"),i(),o(17,"input",9),v("ngModelChange",function(s){return x(n.password,s)||(n.password=s),s}),i()(),o(18,"div",10)(19,"button",11),e(20),i()(),o(21,"div",12)(22,"p"),e(23,"Don't have an account? "),o(24,"a",13),e(25,"Register here"),i()()(),te(26,Ue,2,1,"div",14),i()()()),t&2&&(l(13),C("ngModel",n.email),l(4),C("ngModel",n.password),l(2),P("disabled",n.loading),l(),h(" ",n.loading?"Signing In...":"Sign In"," "),l(6),P("ngIf",n.errorMessage))},dependencies:[_,ne,Y,G,F,j,W,H,U,B,E],styles:[".auth-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;background:radial-gradient(circle at top right,rgba(108,99,255,.1),transparent 40%),radial-gradient(circle at bottom left,rgba(255,101,132,.1),transparent 40%)}.auth-card[_ngcontent-%COMP%]{width:100%;max-width:480px;padding:40px;text-align:center}.auth-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:8px;font-size:2rem}.auth-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:var(--primary-color)}.auth-card[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:var(--text-dim);margin-bottom:32px}.btn-block[_ngcontent-%COMP%]{width:100%;padding:14px;font-size:1.1rem}.auth-footer[_ngcontent-%COMP%]{margin-top:24px;font-size:.9rem;color:var(--text-dim)}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:600}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{margin-top:16px;padding:12px;background:#ff17441a;border:1px solid var(--error-color);color:var(--error-color);border-radius:8px;font-size:.9rem}"]})};function Ge(r,a){if(r&1&&(o(0,"div",22),e(1),i()),r&2){let t=u();l(),h(" ",t.errorMessage," ")}}var se=class r{constructor(a,t){this.authService=a;this.router=t}name="";email="";password="";role="buyer";loading=!1;errorMessage="";async onSubmit(){console.log("Attempting registration with:",this.email),this.loading=!0,this.errorMessage="";try{await this.authService.register(this.email,this.password,this.name,this.role),console.log("Registration successful"),this.role==="buyer"?this.router.navigate(["/buyer"]):this.router.navigate(["/vendor"])}catch(a){console.error("Registration error:",a),this.errorMessage=a.message||"An error occurred during registration."}finally{this.loading=!1}}static \u0275fac=function(t){return new(t||r)(L(b),L(w))};static \u0275cmp=g({type:r,selectors:[["app-register"]],decls:43,vars:12,consts:[[1,"auth-page"],[1,"auth-card","glass-panel"],[1,"highlight"],[1,"subtitle"],[3,"ngSubmit"],[1,"form-group"],["for","name"],["type","text","id","name","name","name","required","","placeholder","John Doe",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email","required","","placeholder","name@example.com",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",3,"ngModelChange","ngModel"],[1,"role-selector"],[1,"radio-label"],["type","radio","name","role","value","buyer",3,"ngModelChange","ngModel"],[1,"radio-custom"],["type","radio","name","role","value","vendor",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"auth-footer"],["routerLink","/login"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),e(3,"Join "),o(4,"span",2),e(5,"Quote"),i(),e(6,"Compare"),i(),o(7,"p",3),e(8,"Create an account to get started."),i(),o(9,"form",4),S("ngSubmit",function(){return n.onSubmit()}),o(10,"div",5)(11,"label",6),e(12,"Full Name / Business Name"),i(),o(13,"input",7),v("ngModelChange",function(s){return x(n.name,s)||(n.name=s),s}),i()(),o(14,"div",5)(15,"label",8),e(16,"Email Address"),i(),o(17,"input",9),v("ngModelChange",function(s){return x(n.email,s)||(n.email=s),s}),i()(),o(18,"div",5)(19,"label",10),e(20,"Password"),i(),o(21,"input",11),v("ngModelChange",function(s){return x(n.password,s)||(n.password=s),s}),i()(),o(22,"div",5)(23,"label"),e(24,"I am a..."),i(),o(25,"div",12)(26,"label",13)(27,"input",14),v("ngModelChange",function(s){return x(n.role,s)||(n.role=s),s}),i(),D(28,"span",15),e(29," Buyer "),i(),o(30,"label",13)(31,"input",16),v("ngModelChange",function(s){return x(n.role,s)||(n.role=s),s}),i(),D(32,"span",15),e(33," Vendor "),i()()(),o(34,"div",17)(35,"button",18),e(36),i()(),o(37,"div",19)(38,"p"),e(39,"Already have an account? "),o(40,"a",20),e(41,"Sign In"),i()()(),te(42,Ge,2,1,"div",21),i()()()),t&2&&(l(13),C("ngModel",n.name),l(4),C("ngModel",n.email),l(4),C("ngModel",n.password),l(5),J("selected",n.role==="buyer"),l(),C("ngModel",n.role),l(3),J("selected",n.role==="vendor"),l(),C("ngModel",n.role),l(4),P("disabled",n.loading),l(),h(" ",n.loading?"Creating Account...":"Create Account"," "),l(6),P("ngIf",n.errorMessage))},dependencies:[_,ne,Y,G,F,Ne,j,W,H,U,B,E],styles:[".auth-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;background:radial-gradient(circle at top right,rgba(108,99,255,.1),transparent 40%),radial-gradient(circle at bottom left,rgba(255,101,132,.1),transparent 40%)}.auth-card[_ngcontent-%COMP%]{width:100%;max-width:480px;padding:40px;text-align:center}.auth-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:8px;font-size:2rem}.auth-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:var(--primary-color)}.auth-card[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:var(--text-dim);margin-bottom:32px}.btn-block[_ngcontent-%COMP%]{width:100%;padding:14px;font-size:1.1rem}.auth-footer[_ngcontent-%COMP%]{margin-top:24px;font-size:.9rem;color:var(--text-dim)}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:600}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{margin-top:16px;padding:12px;background:#ff17441a;border:1px solid var(--error-color);color:var(--error-color);border-radius:8px;font-size:.9rem}.role-selector[_ngcontent-%COMP%]{display:flex;gap:16px;margin-top:8px}.role-selector[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;gap:8px;padding:12px;background:#ffffff0d;border:1px solid var(--glass-border);border-radius:8px;cursor:pointer;transition:all .2s}.role-selector[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]:hover{background:#ffffff1a}.role-selector[_ngcontent-%COMP%]   .radio-label.selected[_ngcontent-%COMP%]{background:#6c63ff33;border-color:var(--primary-color);color:var(--text-light)}.role-selector[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}"]})};var He=r=>["/buyer/quote",r],Ye=(r,a)=>a.id;function Je(r,a){r&1&&(o(0,"div",4)(1,"p"),e(2,"Loading your requests..."),i()())}function Xe(r,a){r&1&&(o(0,"div",5)(1,"span",7),e(2,"post_add"),i(),o(3,"p"),e(4,"No active quote requests found."),i(),o(5,"button",8),e(6,"Start a Request"),i()())}function Ke(r,a){if(r&1&&(o(0,"span",13),e(1),i()),r&2){let t=u().$implicit;l(),h("",t.responses.length," Offers")}}function Ze(r,a){if(r&1&&(o(0,"div",9)(1,"div",10)(2,"span",11),e(3),Q(4,"titlecase"),i(),o(5,"div",12)(6,"span"),e(7),i(),M(8,Ke,2,1,"span",13),i()(),o(9,"p",14),e(10),i(),o(11,"div",15)(12,"span",16)(13,"span",17),e(14,"place"),i(),e(15),i(),o(16,"span",18),e(17),Q(18,"date"),i()()()),r&2){let t=a.$implicit;P("routerLink",Oe(14,He,t.id)),l(3),O(V(4,10,t.serviceType)),l(3),Me(ye("status-badge status-",t.status.toLowerCase())),l(),O(t.status),l(),y(t.responses!=null&&t.responses.length?8:-1),l(2),O(t.details),l(5),h(" ",t.postalCode),l(2),h("Posted: ",V(18,12,t.createdAt))}}function $e(r,a){if(r&1&&(o(0,"div",6),$(1,Ze,19,16,"div",9,Ye),i()),r&2){let t=u();l(),ee(t.quotes())}}var le=class r{quotes=q([]);loading=q(!0);expandedQuotes=q(new Set);authService=f(b);toggleExpand(a){let t=this.expandedQuotes(),n=new Set(t);n.has(a)?n.delete(a):n.add(a),this.expandedQuotes.set(n)}async ngOnInit(){let a=this.authService.currentUser();if(a)try{let t=await a.getIdToken(),n=this.authService.userRole()||"buyer";console.log("Fetching quotes with Role:",n);let d=await fetch(`${A.apiUrl}/quotes`,{headers:{Authorization:`Bearer ${t}`,"X-Mock-Role":n},cache:"no-store"});if(d.ok){let s=await d.json();s.forEach(p=>{p.responses&&Array.isArray(p.responses)&&p.responses.sort((z,Z)=>z.price-Z.price)}),this.quotes.set(s)}}catch(t){console.error("Error fetching quotes:",t)}finally{this.loading.set(!1)}}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=g({type:r,selectors:[["app-buyer-dashboard"]],decls:14,vars:1,consts:[[1,"dashboard","container"],[1,"dashboard-header","glass-panel"],["routerLink","/request-quote",1,"btn","btn-primary"],[1,"dashboard-section"],[1,"loading-state","glass-panel"],[1,"empty-state","glass-panel"],[1,"quotes-grid"],[1,"material-icons"],["routerLink","/request-quote",1,"btn","btn-secondary","btn-sm"],[1,"quote-card","glass-panel",2,"cursor","pointer",3,"routerLink"],[1,"quote-header"],[1,"service-type"],[1,"header-badges"],[1,"badge","response-count"],[1,"details"],[1,"quote-meta",2,"display","flex","justify-content","space-between","margin-top","1rem"],[1,"location",2,"display","flex","align-items","center","gap","5px"],[1,"material-icons",2,"font-size","1.1rem"],[1,"date"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"h1"),e(3,"Buyer Dashboard"),i(),o(4,"p"),e(5,"Welcome back! Manage your quote requests here."),i(),o(6,"button",2),e(7,"Request New Quote"),i()(),o(8,"div",3)(9,"h2"),e(10,"Active Requests"),i(),M(11,Je,3,0,"div",4)(12,Xe,7,0,"div",5)(13,$e,3,0,"div",6),i()()),t&2&&(l(11),y(n.loading()?11:n.quotes().length===0?12:13))},dependencies:[_,E,oe,ie],styles:[".quotes-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:24px}.quote-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.quote-card[_ngcontent-%COMP%]   .quote-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px}.quote-card[_ngcontent-%COMP%]   .quote-header[_ngcontent-%COMP%]   .service-type[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;color:var(--text-main)}.quote-card[_ngcontent-%COMP%]   .quote-meta[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;color:var(--text-dim)}.quote-card[_ngcontent-%COMP%]   .quote-meta[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--primary-color)}.quote-card[_ngcontent-%COMP%]   .responses-section[_ngcontent-%COMP%]{margin-top:16px;padding-top:16px;border-top:1px solid #E2E8F0}.comparison-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.95rem}.comparison-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .comparison-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #F1F5F9}.comparison-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:var(--text-main)}.comparison-table[_ngcontent-%COMP%]   td.vendor-name[_ngcontent-%COMP%]{font-weight:600;color:var(--primary-color)}.comparison-table[_ngcontent-%COMP%]   td.price[_ngcontent-%COMP%]{font-weight:700;color:var(--success-color);font-size:1rem}.quote-card[_ngcontent-%COMP%]{padding:24px;display:flex;flex-direction:column;gap:12px;transition:transform .2s}.quote-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}.quote-card[_ngcontent-%COMP%]   .quote-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.quote-card[_ngcontent-%COMP%]   .quote-header[_ngcontent-%COMP%]   .service-type[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;color:var(--text-light)}.quote-card[_ngcontent-%COMP%]   .quote-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:.8rem;padding:4px 8px;border-radius:12px;background:#ffffff1a}.quote-card[_ngcontent-%COMP%]   .quote-header[_ngcontent-%COMP%]   .status-badge.status-open[_ngcontent-%COMP%]{background:#2ecc7133;color:#2ecc71}.quote-card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{color:var(--text-dim);font-size:.95rem;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.quote-card[_ngcontent-%COMP%]   .quote-meta[_ngcontent-%COMP%]{margin-top:auto;padding-top:16px;display:flex;justify-content:space-between;font-size:.85rem;color:var(--text-dim)}.quote-card[_ngcontent-%COMP%]   .quote-meta[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.quote-card[_ngcontent-%COMP%]   .quote-meta[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:1rem}.quote-card[_ngcontent-%COMP%]   .responses-section[_ngcontent-%COMP%]{margin-top:16px;padding-top:16px;border-top:1px solid rgba(255,255,255,.1)}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;margin-top:12px}.comparison-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.9rem}.comparison-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .comparison-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid rgba(255,255,255,.05)}.comparison-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;color:var(--text-dim);font-size:.8rem;text-transform:uppercase;letter-spacing:.5px}.comparison-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:var(--text-light)}.comparison-table[_ngcontent-%COMP%]   td.vendor-name[_ngcontent-%COMP%]{font-weight:500;color:var(--primary-color)}.comparison-table[_ngcontent-%COMP%]   td.message[_ngcontent-%COMP%]{max-width:300px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:var(--text-dim)}.comparison-table[_ngcontent-%COMP%]   td.price[_ngcontent-%COMP%]{font-weight:600;color:#2ecc71;font-size:1rem}.comparison-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.comparison-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:40px;color:var(--text-dim)}"]})};var Qe=(r,a)=>a.id;function et(r,a){r&1&&(m(0,"div",12)(1,"p"),e(2,"Loading requests..."),c()())}function tt(r,a){if(r&1){let t=R();m(0,"div",13)(1,"span",15),e(2,"inbox"),c(),m(3,"p"),e(4,"No new requests matching your postal codes."),c(),m(5,"button",16),X("click",function(){k(t);let d=u(2);return T(d.updateServiceArea())}),e(6,"Update Service Area"),c()()}}function nt(r,a){if(r&1){let t=R();m(0,"div",17)(1,"div",18)(2,"span",19),e(3),Q(4,"titlecase"),c(),m(5,"span",20)(6,"span",15),e(7,"place"),c(),e(8),c()(),m(9,"p",21),e(10),c(),m(11,"div",22)(12,"span",23),e(13),Q(14,"date"),c(),m(15,"button",24),X("click",function(){let d=k(t).$implicit,s=u(3);return T(s.respondToQuote(d.id))}),e(16,"Submit Quote"),c()()()}if(r&2){let t=a.$implicit;l(3),O(V(4,4,t.serviceType)),l(5),h(" ",t.postalCode),l(2),O(t.details),l(3),h("Posted: ",V(14,6,t.createdAt))}}function ot(r,a){if(r&1&&(m(0,"div",14),$(1,nt,17,8,"div",17,Qe),c()),r&2){let t=u(2);l(),ee(t.newRequests())}}function it(r,a){if(r&1&&M(0,tt,7,0,"div",13)(1,ot,3,0,"div",14),r&2){let t=u();y(t.newRequests().length===0?0:1)}}function rt(r,a){r&1&&(m(0,"div",13)(1,"span",15),e(2,"send"),c(),m(3,"p"),e(4,"You haven't sent any quotes yet."),c()())}function at(r,a){if(r&1){let t=R();m(0,"div",25)(1,"div",18)(2,"span",19),e(3),Q(4,"titlecase"),c(),m(5,"span",26),e(6,"Responded"),c()(),m(7,"p",21),e(8),c(),m(9,"div",22)(10,"div",27)(11,"span",28),e(12,"check_circle"),c(),e(13),Q(14,"date"),c(),m(15,"button",29),X("click",function(){let d=k(t).$implicit,s=u(3);return T(s.editQuote(d.id))}),e(16,"Edit Quote"),c()()()}if(r&2){let t=a.$implicit;l(3),O(V(4,3,t.serviceType)),l(5),O(t.details),l(5),h(" Sent on ",V(14,5,t.createdAt)," ")}}function st(r,a){if(r&1&&(m(0,"div",14),$(1,at,17,7,"div",25,Qe),c()),r&2){let t=u(2);l(),ee(t.sentQuotes())}}function lt(r,a){if(r&1&&M(0,rt,5,0,"div",13)(1,st,3,0,"div",14),r&2){let t=u();y(t.sentQuotes().length===0?0:1)}}var de=class r{quotes=q([]);loading=q(!0);quotesSentCount=q(0);authService=f(b);router=f(w);activeTab=q("new");newRequests=q([]);sentQuotes=q([]);hasResponded(a){let t=this.authService.currentUser();return!t||!a.responses?!1:a.responses.some(n=>n.vendorId===t.uid)}async ngOnInit(){this.loading.set(!0);let a=this.authService.currentUser();if(console.log("VendorDashboard Init. User:",a),a)try{let t=await a.getIdToken(),n=this.authService.userRole()||"vendor";console.log("Fetching quotes with Role:",n);let d=await fetch(`${A.apiUrl}/quotes`,{headers:{Authorization:`Bearer ${t}`,"X-Mock-Role":n},cache:"no-store"});if(d.ok){let s=await d.json();this.quotes.set(s);let p=a.uid;this.sentQuotes.set(s.filter(z=>z.responses?.some(Z=>Z.vendorId===p))),this.newRequests.set(s.filter(z=>!z.responses?.some(Z=>Z.vendorId===p))),this.quotesSentCount.set(this.sentQuotes().length)}else console.error("Fetch failed:",await d.text())}catch(t){console.error("Error fetching quotes:",t)}finally{this.loading.set(!1)}else console.warn("No user found in AuthService"),this.loading.set(!1)}setActiveTab(a){this.activeTab.set(a)}respondToQuote(a){this.router.navigate(["/vendor/respond",a])}editQuote(a){this.router.navigate(["/vendor/respond",a],{queryParams:{edit:"true"}})}updateServiceArea(){alert("Service Area updates coming soon! For now, you will see all requests.")}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=g({type:r,selectors:[["app-vendor-dashboard"]],decls:31,vars:11,consts:[[1,"dashboard","container"],[1,"dashboard-header","glass-panel"],[1,"header-content"],[1,"stats-group"],[1,"stat-item","stat-new"],[1,"value"],[1,"label"],[1,"stat-item","stat-sent"],[1,"dashboard-section"],[1,"tabs-container","glass-panel",2,"display","flex","gap","1rem","padding","1rem","margin-bottom","2rem"],[1,"tab-btn",2,"border","none","background","none","font-size","1.1rem","font-weight","600","padding","0.5rem 1rem","cursor","pointer","border-bottom","2px solid transparent","color","var(--text-dim)","display","flex","align-items","center","gap","8px",3,"click"],[1,"badge-count"],[1,"loading-state","glass-panel"],[1,"empty-state","glass-panel"],[1,"quotes-grid"],[1,"material-icons"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"quote-card","glass-panel"],[1,"quote-header"],[1,"service-type"],[1,"location"],[1,"details"],[1,"quote-footer",2,"display","flex","justify-content","space-between","align-items","center","margin-top","1rem"],[1,"date",2,"margin-right","15px"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"quote-card","glass-panel","responded"],[1,"status-badge","status-responded"],[1,"sent-info",2,"font-size","0.9rem","color","var(--text-dim)"],[1,"material-icons",2,"font-size","1rem","vertical-align","middle","color","#3498db"],[1,"btn","btn-sm","btn-secondary",3,"click"]],template:function(t,n){t&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),e(4,"Vendor Dashboard"),c(),m(5,"p"),e(6,"Manage incoming quote requests and your profile."),c()(),m(7,"div",3)(8,"div",4)(9,"span",5),e(10),c(),m(11,"span",6),e(12,"New Requests"),c()(),m(13,"div",7)(14,"span",5),e(15),c(),m(16,"span",6),e(17,"Quotes Sent"),c()()()(),m(18,"div",8)(19,"div",9)(20,"button",10),X("click",function(){return n.setActiveTab("new")}),e(21," New Requests "),m(22,"span",11),e(23),c()(),m(24,"button",10),X("click",function(){return n.setActiveTab("sent")}),e(25," Quotes Sent "),m(26,"span",11),e(27),c()()(),M(28,et,3,0,"div",12)(29,it,2,1)(30,lt,2,1),c()()),t&2&&(l(10),O(n.newRequests().length),l(5),O(n.quotesSentCount()),l(5),J("active",n.activeTab()==="new"),l(2),J("highlight",n.newRequests().length>0),l(),O(n.newRequests().length),l(),J("active",n.activeTab()==="sent"),l(3),O(n.sentQuotes().length),l(),y(n.loading()?28:n.activeTab()==="new"?29:n.activeTab()==="sent"?30:-1))},dependencies:[_,oe,ie],styles:[".quotes-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:24px}.quote-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.quote-card[_ngcontent-%COMP%]   .quote-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px}.quote-card[_ngcontent-%COMP%]   .quote-header[_ngcontent-%COMP%]   .service-type[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;color:var(--text-main)}.quote-card[_ngcontent-%COMP%]   .quote-meta[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;color:var(--text-dim)}.quote-card[_ngcontent-%COMP%]   .quote-meta[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--primary-color)}.quote-card[_ngcontent-%COMP%]   .responses-section[_ngcontent-%COMP%]{margin-top:16px;padding-top:16px;border-top:1px solid #E2E8F0}.comparison-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.95rem}.comparison-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .comparison-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #F1F5F9}.comparison-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:var(--text-main)}.comparison-table[_ngcontent-%COMP%]   td.vendor-name[_ngcontent-%COMP%]{font-weight:600;color:var(--primary-color)}.comparison-table[_ngcontent-%COMP%]   td.price[_ngcontent-%COMP%]{font-weight:700;color:var(--success-color);font-size:1rem}.quote-card[_ngcontent-%COMP%]{padding:24px;display:flex;flex-direction:column;gap:12px;transition:transform .2s}.quote-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}.quote-card[_ngcontent-%COMP%]   .quote-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.quote-card[_ngcontent-%COMP%]   .quote-header[_ngcontent-%COMP%]   .service-type[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;color:var(--text-light)}.quote-card[_ngcontent-%COMP%]   .quote-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:.8rem;padding:4px 8px;border-radius:12px;background:#ffffff1a}.quote-card[_ngcontent-%COMP%]   .quote-header[_ngcontent-%COMP%]   .status-badge.status-open[_ngcontent-%COMP%]{background:#2ecc7133;color:#2ecc71}.quote-card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{color:var(--text-dim);font-size:.95rem;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.quote-card[_ngcontent-%COMP%]   .quote-meta[_ngcontent-%COMP%]{margin-top:auto;padding-top:16px;display:flex;justify-content:space-between;font-size:.85rem;color:var(--text-dim)}.quote-card[_ngcontent-%COMP%]   .quote-meta[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.quote-card[_ngcontent-%COMP%]   .quote-meta[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:1rem}.quote-card[_ngcontent-%COMP%]   .responses-section[_ngcontent-%COMP%]{margin-top:16px;padding-top:16px;border-top:1px solid rgba(255,255,255,.1)}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;margin-top:12px}.comparison-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.9rem}.comparison-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .comparison-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid rgba(255,255,255,.05)}.comparison-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;color:var(--text-dim);font-size:.8rem;text-transform:uppercase;letter-spacing:.5px}.comparison-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:var(--text-light)}.comparison-table[_ngcontent-%COMP%]   td.vendor-name[_ngcontent-%COMP%]{font-weight:500;color:var(--primary-color)}.comparison-table[_ngcontent-%COMP%]   td.message[_ngcontent-%COMP%]{max-width:300px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:var(--text-dim)}.comparison-table[_ngcontent-%COMP%]   td.price[_ngcontent-%COMP%]{font-weight:600;color:#2ecc71;font-size:1rem}.comparison-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.comparison-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:40px;color:var(--text-dim)}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:20px}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:.5rem}.stats-group[_ngcontent-%COMP%]{display:flex;gap:32px;align-items:center;background:#f8fafc;padding:1rem 2rem;border-radius:12px;border:1px solid #E2E8F0}.stats-group[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;min-width:100px}.stats-group[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:64px;height:64px;border-radius:16px;border:3px solid var(--primary-color);background:#fff;font-size:1.6rem;font-weight:700;color:var(--primary-color);margin-bottom:1.25rem;box-shadow:0 4px 6px -1px #4f46e51a}.stats-group[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-dim);font-weight:600;text-transform:uppercase;letter-spacing:.5px}.stats-group[_ngcontent-%COMP%]   .stat-item.stat-new[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{border-color:#ef4444;color:#ef4444;box-shadow:0 4px 6px -1px #ef444426}.stats-group[_ngcontent-%COMP%]   .stat-item.stat-sent[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{border-color:#10b981;color:#10b981;box-shadow:0 4px 6px -1px #10b98126}.quote-card[_ngcontent-%COMP%]{background:#fff}.quote-card[_ngcontent-%COMP%]   .quote-header[_ngcontent-%COMP%]   .service-type[_ngcontent-%COMP%]{color:var(--text-main)!important}.quote-card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%], .quote-card[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%], .quote-card[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:var(--text-dim)!important}.tab-btn[_ngcontent-%COMP%]{transition:all .2s}.tab-btn[_ngcontent-%COMP%]:hover{color:var(--primary-color)!important}.tab-btn.active[_ngcontent-%COMP%]{color:var(--primary-color)!important;border-bottom-color:var(--primary-color)!important}.tab-btn.active[_ngcontent-%COMP%]   .badge-count[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;border-color:var(--primary-color)}.badge-count[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-width:24px;height:24px;padding:0 6px;border-radius:12px;font-size:.8rem;font-weight:700;border:1px solid #CBD5E1;color:var(--text-dim);background-color:#fff;transition:all .2s}.badge-count.highlight[_ngcontent-%COMP%]{border-color:var(--secondary-color);color:var(--secondary-color)}"]})};var ce=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=g({type:r,selectors:[["app-admin-dashboard"]],decls:2,vars:0,template:function(t,n){t&1&&(m(0,"p"),e(1,"admin-dashboard works!"),c())},encapsulation:2})};var K=async(r,a)=>{let t=f(b),n=f(w);return await t.authInitialized,t.currentUser()?!0:n.parseUrl("/login")};function dt(r,a){if(r&1){let t=R();o(0,"div",4)(1,"label",16),e(2,"Email Address "),o(3,"span",17),e(4,"*"),i()(),o(5,"input",18),v("ngModelChange",function(d){k(t);let s=u();return x(s.email,d)||(s.email=d),T(d)}),i()()}if(r&2){let t=u();l(5),C("ngModel",t.email)}}var me=class r{constructor(a){this.router=a}serviceType="heat-pump";postalCode="";details="";email="";loading=!1;authService=f(b);async onSubmit(){this.loading=!0;try{let a=this.authService.currentUser(),t="";if(a)t=await a.getIdToken();else if(!this.email){alert("Please provide an email address for your quote."),this.loading=!1;return}let n={"Content-Type":"application/json","X-Mock-Role":"guest"};t&&(n.Authorization=`Bearer ${t}`);let d=await fetch(`${A.apiUrl}/quotes`,{method:"POST",headers:n,body:JSON.stringify({serviceType:this.serviceType,postalCode:this.postalCode,details:this.details,email:this.email})});if(!d.ok){let p=await d.text();throw new Error("Failed to submit quote request: "+p)}let s=await d.json();console.log("Quote created:",s),a?(alert("Quote request submitted successfully!"),this.router.navigate(["/buyer"])):(alert("Quote request submitted! Check your email for confirmation."),this.router.navigate(["/"]))}catch(a){console.error("Error submitting quote:",a),alert("Error submitting quote. Please try again.")}finally{this.loading=!1}}static \u0275fac=function(t){return new(t||r)(L(w))};static \u0275cmp=g({type:r,selectors:[["app-request-quote"]],decls:29,vars:6,consts:[[1,"container","page-content"],[1,"glass-panel","form-card"],[1,"subtitle"],[3,"ngSubmit"],[1,"form-group"],["for","serviceType"],["id","serviceType","name","serviceType","required","",3,"ngModelChange","ngModel"],["value","heat-pump"],["value","maintenance"],["for","postalCode"],["type","text","id","postalCode","name","postalCode","required","","placeholder","e.g. 2000",3,"ngModelChange","ngModel"],["for","details"],["id","details","name","details","rows","4","placeholder","Describe your home type, current heating system, etc.",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button","routerLink","/buyer",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary",3,"disabled"],["for","email"],[1,"required"],["type","email","id","email","name","email","required","","placeholder","To receive your quotes",3,"ngModelChange","ngModel"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),e(3,"Request a Quote"),i(),o(4,"p",2),e(5,"Tell us what you need, and we'll match you with top vendors."),i(),o(6,"form",3),S("ngSubmit",function(){return n.onSubmit()}),o(7,"div",4)(8,"label",5),e(9,"Service Type"),i(),o(10,"select",6),v("ngModelChange",function(s){return x(n.serviceType,s)||(n.serviceType=s),s}),o(11,"option",7),e(12,"Heat Pump Installation"),i(),o(13,"option",8),e(14,"Maintenance / Repair"),i()()(),M(15,dt,6,1,"div",4),o(16,"div",4)(17,"label",9),e(18,"Postal Code"),i(),o(19,"input",10),v("ngModelChange",function(s){return x(n.postalCode,s)||(n.postalCode=s),s}),i()(),o(20,"div",4)(21,"label",11),e(22,"Project Details"),i(),o(23,"textarea",12),v("ngModelChange",function(s){return x(n.details,s)||(n.details=s),s}),i()(),o(24,"div",13)(25,"button",14),e(26,"Cancel"),i(),o(27,"button",15),e(28),i()()()()()),t&2&&(l(10),C("ngModel",n.serviceType),l(5),y(n.authService.currentUser()?-1:15),l(4),C("ngModel",n.postalCode),l(4),C("ngModel",n.details),l(4),P("disabled",n.loading),l(),h(" ",n.loading?"Submitting...":"Submit Request"," "))},dependencies:[_,Y,G,ze,Ae,F,Ie,j,W,H,U,B,E],styles:[".auth-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;background:radial-gradient(circle at top right,rgba(108,99,255,.1),transparent 40%),radial-gradient(circle at bottom left,rgba(255,101,132,.1),transparent 40%)}.auth-card[_ngcontent-%COMP%]{width:100%;max-width:480px;padding:40px;text-align:center}.auth-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:8px;font-size:2rem}.auth-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:var(--primary-color)}.auth-card[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:var(--text-dim);margin-bottom:32px}.btn-block[_ngcontent-%COMP%]{width:100%;padding:14px;font-size:1.1rem}.auth-footer[_ngcontent-%COMP%]{margin-top:24px;font-size:.9rem;color:var(--text-dim)}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:600}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{margin-top:16px;padding:12px;background:#ff17441a;border:1px solid var(--error-color);color:var(--error-color);border-radius:8px;font-size:.9rem}.page-content[_ngcontent-%COMP%]{padding-top:100px;display:flex;justify-content:center;min-height:100vh;box-sizing:border-box}.form-card[_ngcontent-%COMP%]{width:100%;max-width:600px;padding:2.5rem;margin-bottom:2rem;position:relative;z-index:10}h2[_ngcontent-%COMP%]{margin-bottom:.5rem}.subtitle[_ngcontent-%COMP%]{margin-bottom:2rem;color:var(--text-dim)}textarea[_ngcontent-%COMP%]{width:100%;padding:1rem;background:#fff!important;border:1px solid #E2E8F0;border-radius:.5rem;color:var(--text-main)!important;font-family:inherit;font-size:1rem;resize:vertical;min-height:120px;box-sizing:border-box;pointer-events:auto;position:relative;z-index:20}textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #4f46e51a}select[_ngcontent-%COMP%]{width:100%;padding:1rem;background:#fff!important;border:1px solid #E2E8F0;border-radius:.5rem;color:var(--text-main);font-size:1rem;height:auto;appearance:auto}input[_ngcontent-%COMP%]{box-sizing:border-box}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;margin-top:2rem}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem}"]})};var pe=class r{quoteId="";price=null;message="";isEditMode=!1;isLoadingData=!1;isSubmitting=!1;route=f(qe);authService=f(b);router=f(w);cdr=f(we);constructor(){this.quoteId=this.route.snapshot.paramMap.get("quoteId")||"",this.route.queryParams.subscribe(a=>{this.isEditMode=a.edit==="true"}),Ce(()=>{this.authService.currentUser()&&this.isEditMode&&!this.isLoadingData&&xe(()=>{this.loadExistingResponse()})})}async loadExistingResponse(){this.isLoadingData=!0;let a=this.authService.currentUser();if(!a){this.isLoadingData=!1;return}try{let t=await a.getIdToken(),n=await fetch(`${A.apiUrl}/quotes`,{headers:{Authorization:`Bearer ${t}`}});if(n.ok){let s=(await n.json()).find(p=>p.id===this.quoteId);if(s){let p=s.responses?.find(z=>z.vendorId===a.uid);p&&(this.price=p.price,this.message=p.message,this.isLoadingData=!1,this.cdr.detectChanges())}}}catch(t){console.error("Error loading existing response",t)}finally{this.isLoadingData=!1,this.cdr.markForCheck()}}async onSubmit(){if(!this.price||!this.message)return;this.isSubmitting=!0;let a=this.authService.currentUser();if(!a){this.isSubmitting=!1;return}try{let t=await a.getIdToken(),n=this.authService.userRole()||"vendor",d=this.isEditMode?"PUT":"POST",s=`${A.apiUrl}/quotes/${this.quoteId}/respond`,p=await fetch(s,{method:d,headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,"X-Mock-Role":n},body:JSON.stringify({price:this.price,message:this.message})});if(!p.ok){let z=await p.text();throw console.error("Submission failed. Status:",p.status,"Body:",z),new Error(`Failed to submit: ${p.status} ${p.statusText}`)}alert(this.isEditMode?"Quote updated successfully!":"Quote submitted successfully!"),this.router.navigate(["/vendor"])}catch(t){console.error("Error submitting response:",t),alert("Error submitting response.")}finally{this.isSubmitting=!1}}cancel(){this.router.navigate(["/vendor"])}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=g({type:r,selectors:[["app-respond-quote"]],decls:20,vars:5,consts:[[1,"request-quote-page"],[1,"form-card","glass-panel"],[3,"ngSubmit"],[1,"form-group"],["for","price"],["type","number","id","price","name","price","required","","placeholder","e.g. 4500",3,"ngModelChange","ngModel"],["for","message"],["id","message","name","message","rows","4","required","","placeholder","Describe your offer, warranty, and availability...",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),e(3),i(),o(4,"p"),e(5,"Provide a competitive price and message for the buyer."),i(),o(6,"form",2),S("ngSubmit",function(){return n.onSubmit()}),o(7,"div",3)(8,"label",4),e(9,"Estimated Price ($)"),i(),o(10,"input",5),v("ngModelChange",function(s){return x(n.price,s)||(n.price=s),s}),i()(),o(11,"div",3)(12,"label",6),e(13,"Message to Buyer"),i(),o(14,"textarea",7),v("ngModelChange",function(s){return x(n.message,s)||(n.message=s),s}),i()(),o(15,"div",8)(16,"button",9),S("click",function(){return n.cancel()}),e(17,"Cancel"),i(),o(18,"button",10),e(19),i()()()()()),t&2&&(l(3),O(n.isEditMode?"Update Your Quote":"Submit Your Quote"),l(7),C("ngModel",n.price),l(4),C("ngModel",n.message),l(4),P("disabled",n.isSubmitting||n.isLoadingData||!n.price||!n.message),l(),h(" ",n.isSubmitting?"Saving...":n.isEditMode?"Update Quote":"Send Quote"," "))},dependencies:[_,Y,G,F,Re,j,W,H,U,B],styles:[".request-quote-page[_ngcontent-%COMP%]{padding-top:120px;display:flex;justify-content:center;padding-bottom:4rem}.form-card[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:0 auto;padding:2.5rem;box-sizing:border-box}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;margin-top:2rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.5rem;display:block}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}"]})};var Ve=[{path:"",component:re},{path:"login",component:ae},{path:"register",component:se},{path:"buyer",component:le,canActivate:[K]},{path:"buyer/quote/:quoteId",loadComponent:()=>import("./chunk-BID7A3BL.js").then(r=>r.QuoteDetails),canActivate:[K]},{path:"request-quote",component:me},{path:"track",loadComponent:()=>import("./chunk-ZDKMJ5BW.js").then(r=>r.TrackQuote)},{path:"track/:id",loadComponent:()=>import("./chunk-ZDKMJ5BW.js").then(r=>r.TrackQuote)},{path:"vendor",component:de,canActivate:[K]},{path:"vendor/respond/:quoteId",component:pe,canActivate:[K]},{path:"admin",component:ce,canActivate:[K]},{path:"**",redirectTo:""}];var Fe={providers:[be(),De(Ve),Ee()]};var ct=()=>({exact:!0});function mt(r,a){r&1&&(o(0,"a",6),e(1,"Home"),i(),o(2,"a",7),e(3,"Products"),i(),o(4,"a",7),e(5,"How it Works"),i()),r&2&&P("routerLinkActiveOptions",Pe(1,ct))}function pt(r,a){r&1&&(o(0,"a",8),e(1,"Sign In"),i(),o(2,"a",9),e(3,"Sign Up"),i())}function gt(r,a){r&1&&(o(0,"a",10),e(1,"Dashboard"),i())}function ut(r,a){r&1&&(o(0,"a",11),e(1,"Dashboard"),i())}function ft(r,a){r&1&&(o(0,"a",12),e(1,"Dashboard"),i())}function ht(r,a){if(r&1){let t=R();M(0,gt,2,0,"a",10)(1,ut,2,0,"a",11)(2,ft,2,0,"a",12),o(3,"button",13),S("click",function(){k(t);let d=u();return T(d.logout())}),e(4,"Sign Out"),i()}if(r&2){let t=u();y(t.userRole()==="vendor"?0:t.userRole()==="admin"?1:2)}}var ge=class r{authService=f(b);currentUser=this.authService.currentUser;userRole=this.authService.userRole;logout(){this.authService.logout()}getDashboardRoute(){let a=this.userRole();return a==="vendor"?"/vendor":a==="admin"?"/admin":"/buyer"}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=g({type:r,selectors:[["app-navbar"]],decls:11,vars:3,consts:[[1,"navbar","glass-panel"],[1,"container","navbar-content"],[1,"logo",3,"routerLink"],[1,"logo-highlight"],[1,"nav-links"],[1,"auth-buttons"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],["href","#"],["routerLink","/login",1,"btn","btn-secondary","btn-sm"],["routerLink","/register",1,"btn","btn-primary","btn-sm"],["routerLink","/vendor",1,"btn","btn-secondary","btn-sm"],["routerLink","/admin",1,"btn","btn-secondary","btn-sm"],["routerLink","/buyer",1,"btn","btn-secondary","btn-sm"],[1,"btn","btn-primary","btn-sm",3,"click"]],template:function(t,n){t&1&&(o(0,"nav",0)(1,"div",1)(2,"a",2)(3,"span",3),e(4,"Quote"),i(),e(5,"Compare "),i(),o(6,"div",4),M(7,mt,6,2),i(),o(8,"div",5),M(9,pt,4,0)(10,ht,5,1),i()()()),t&2&&(l(2),P("routerLink",n.currentUser()?n.getDashboardRoute():"/"),l(5),y(n.currentUser()?-1:7),l(2),y(n.currentUser()?10:9))},dependencies:[_,E,Te],styles:[".navbar[_ngcontent-%COMP%]{position:absolute;top:20px;left:50%;transform:translate(-50%);width:90%;max-width:1200px;z-index:1000;padding:12px 0;border-radius:16px}.navbar-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.logo[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--text-main)}.logo[_ngcontent-%COMP%]   .logo-highlight[_ngcontent-%COMP%]{color:var(--primary-color)}.nav-links[_ngcontent-%COMP%]{display:flex;gap:32px}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-dim);font-weight:500;transition:color .2s}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:var(--primary-color)}.auth-buttons[_ngcontent-%COMP%]{display:flex;gap:16px}.auth-buttons[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}"]})};var ue=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=g({type:r,selectors:[["app-footer"]],decls:15,vars:0,consts:[[1,"footer","glass-panel"],[1,"container","footer-content"],[1,"footer-brand"],[1,"logo-highlight"],[1,"footer-links"],["href","#"]],template:function(t,n){t&1&&(m(0,"footer",0)(1,"div",1)(2,"div",2)(3,"span",3),e(4,"Quote"),c(),e(5,"Compare "),m(6,"p"),e(7,"\xA9 2026 QuoteCompare. All rights reserved."),c()(),m(8,"div",4)(9,"a",5),e(10,"Privacy Policy"),c(),m(11,"a",5),e(12,"Terms of Service"),c(),m(13,"a",5),e(14,"Contact Us"),c()()()())},dependencies:[_],styles:[".footer[_ngcontent-%COMP%]{margin-top:80px;padding:40px 0;border-top:1px solid var(--glass-border);background:var(--surface-dark)}.footer-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:20px}.footer-brand[_ngcontent-%COMP%]   .logo-highlight[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:700}.footer-brand[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-dim);font-size:.9rem;margin-top:8px}.footer-links[_ngcontent-%COMP%]{display:flex;gap:24px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-dim);font-size:.9rem;transition:color .2s}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--text-light)}"]})};var fe=class r{title="frontend";static \u0275fac=function(t){return new(t||r)};static \u0275cmp=g({type:r,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"content-wrapper"]],template:function(t,n){t&1&&(D(0,"app-navbar"),o(1,"div",0),D(2,"router-outlet"),i(),D(3,"app-footer"))},dependencies:[ke,ge,ue],encapsulation:2})};Se(fe,Fe).catch(r=>console.error(r));
